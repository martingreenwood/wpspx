!function(e){e.extend({APP:{formatTimer:function(e){return e<10&&(e="0"+e),e},startTimer:function(t){switch(e.APP.dir=t,e.APP.d1=new Date,e.APP.state){case"pause":e.APP.t1=e.APP.d1.getTime()-e.APP.td;break;default:e.APP.t1=e.APP.d1.getTime(),"cd"===e.APP.dir&&(e.APP.t1+=1e3*parseInt(e("#cd_seconds").val()))}e.APP.state="alive",e("#"+e.APP.dir+"_status").html("Running"),e.APP.loopTimer()},pauseTimer:function(){e.APP.dp=new Date,e.APP.tp=e.APP.dp.getTime(),e.APP.td=e.APP.tp-e.APP.t1,e("#"+e.APP.dir+"_start").val("Resume"),e.APP.state="pause",e("#"+e.APP.dir+"_status").html("Paused")},stopTimer:function(){e("#"+e.APP.dir+"_start").val("Restart"),e.APP.state="stop",e("#"+e.APP.dir+"_status").html("Stopped")},resetTimer:function(){e("#"+e.APP.dir+"_ms,#"+e.APP.dir+"_s,#"+e.APP.dir+"_m,#"+e.APP.dir+"_h").html("00"),e("#"+e.APP.dir+"_start").val("Start"),e.APP.state="reset",e("#"+e.APP.dir+"_status").html("Reset & Idle again")},endTimer:function(t){e("#"+e.APP.dir+"_start").val("Restart"),e.APP.state="end","function"==typeof t&&t()},loopTimer:function(){var t,s,n=0,i=0,r=0,a=0;if("alive"!==e.APP.state)return clearTimeout(e.APP.t),!0;s=(new Date).getTime(),"sw"===e.APP.dir?t=s-e.APP.t1:(t=e.APP.t1-s)<=0&&e.APP.endTimer((function(){e.APP.resetTimer(),e("#"+e.APP.dir+"_status").html("Ended & Reset")})),(n=t%1e3)<1?n=0:(i=(t-n)/1e3)<1?i=0:(r=(i-i%60)/60)<1?r=0:(a=(r-r%60)/60)<1&&(a=0),n=Math.round(n/100),i-=60*r,r-=60*a,e("#"+e.APP.dir+"_ms").html(e.APP.formatTimer(n)),e("#"+e.APP.dir+"_s").html(e.APP.formatTimer(i)),e("#"+e.APP.dir+"_m").html(e.APP.formatTimer(r)),e("#"+e.APP.dir+"_h").html(e.APP.formatTimer(a)),e.APP.t=setTimeout(e.APP.loopTimer,1)}}}),e("#sw_start").on("click",(function(){e.APP.startTimer("sw")})),e("#cd_start").on("click",(function(){e.APP.startTimer("cd")})),e("#sw_stop,#cd_stop").on("click",(function(){e.APP.stopTimer()})),e("#sw_reset,#cd_reset").on("click",(function(){e.APP.resetTimer()})),e("#sw_pause,#cd_pause").on("click",(function(){e.APP.pauseTimer()}))}(jQuery),function(e){e("#publishshows").on("click",(function(){e(".loading").addClass("show")}));var t,s,n;t=e(".range-slider"),s=e(".range-slider__range"),n=e(".range-slider__value"),t.each((function(){n.each((function(){var t=e(this).prev().attr("value");e(this).html(t)})),s.on("input",(function(){e(this).next(n).html(this.value)}))})),wpspx_cache=()=>{console.log("clicked cache");const t=["venues","ticket-types","tag-groups","stock-items","statements","plans","funds","bands","memberships","events","instances"],s=t.length,n=e("input[name='cache_url']").val(),i=e("input[name='fetch_url']").val(),r=e("input[name='spektrix_url']").val();let a=0;console.log(t),console.log(s),console.log(n),console.log(i),console.log(r),e(".done").addClass("show"),e.APP.startTimer("sw"),e.each(t,(function(t,n){var r='<li class="'+n+'"></div><span>'+n.replace(/\-/g,"")+'</span><svg class="loadinggif" style="background: none; shape-rendering: auto;" width="20px" height="20px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><g transform="translate(50,50)"><g transform="scale(0.7)"><circle cx="0" cy="0" r="50" fill="#808080"></circle><circle cx="0" cy="-28" r="15" fill="#ffffff" transform="rotate(95.7053)"><animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" keyTimes="0;1" values="0 0 0;360 0 0"></animateTransform></circle></g></g></svg><svg class="donetick" enable-background="new 0 0 515.556 515.556" height="512" viewBox="0 0 515.556 515.556" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m0 274.226 176.549 176.886 339.007-338.672-48.67-47.997-290.337 290-128.553-128.552z"/></svg></li>';e(".done ul").append(r),e.ajax({type:"POST",url:i+"/?resource="+n,cache:!1,beforeSend:function(){e(".done ul li."+n+":after").css("width:36px")},success:function(t){setTimeout((function(){e(".done ul li."+n+":after").css("width:64px")}),3e3),console.log("touched "+i+"/?resource="+n)},error:function(e,t,s){console.log(e.responseText),console.log(s)}}).done((function(t){e(".done ul li."+n).addClass("complete"),a++,a==s&&e.APP.stopTimer()}))}))}}(jQuery);